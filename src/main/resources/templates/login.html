<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html th:lang="${#locale.language}"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head th:replace="fragments/head-bootstrap :: head">
</head>
<body>
<nav th:replace="fragments/navbar :: navbar"></nav>
<div class="container">
    <div th:replace="fragments/messages :: messages"></div>

    <div class="row justify-content-md-center my-5">
        <div class="col-md-auto">
            <div class="card" style="width: 18rem;">

                <div class="card-body">
                    <h5 class="card-title"
                        th:text="#{login.formTitle}">Log in
                    </h5>
                    <form
                            name='f'
                            th:action='@{/login}'
                            method="POST">

                        <!-- EMAIL -->

                        <div class="mb-3">
                            <label for="username"
                                   class="form-label"
                                   th:text="#{user.email}">Email
                            </label>
                            <input th:if="${email != null}"
                                   id="username"
                                   name="username"
                                   th:value="${email}"
                                   type="email"
                                   class="form-control"
                                   required/>
                            <input th:if="${email == null}"
                                   id="username"
                                   name="username"
                                   type="email"
                                   class="form-control"
                                   required
                                   autofocus/>

                            <span class="helper-text"
                                  th:data-error="#{error.invalidEmail}"
                                  data-success=""></span>
                        </div>

                        <!-- PASSWORD -->

                        <div class="mb-3">
                            <label for="password"
                                   class="form-label"
                                   th:text="#{user.password}">Password
                            </label>
                            <input th:if="${email != null}"
                                   id="password"
                                   name="password"
                                   type="password"
                                   class="form-control"
                                   required
                                   autofocus/>
                            <input th:if="${email == null}"
                                   id="password"
                                   name="password"
                                   type="password"
                                   class="form-control"
                                   required/>

                        </div>

                        <!-- REMEMBER ME -->

                        <!--                                <div class="row">-->
                        <!--                                    <p>-->
                        <!--                                        <input type="checkbox" name="remember-me" id="remember-me" />-->
                        <!--                                        <label for="remember-me" th:text="#{login.rememberMe}">Remember me</label>-->
                        <!--                                    </p>-->
                        <!--                                </div>-->


                        <div class="d-grid">

                            <button class="btn btn-primary"
                                    type="submit"
                                    name="action"
                                    th:text="#{login.loginButton}">
                            </button>
                        </div>

                    </form>
                </div>
            </div>

            <p class="text-center">
                <span th:text="#{login.registerInstead.question}"
                      class="grey-text"></span>
                <a th:href="@{/new-user}"
                   th:text="#{login.registerInstead.url}"></a>
            </p>
        </div>
    </div>

</div>
<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>